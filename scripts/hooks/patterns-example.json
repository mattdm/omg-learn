{
  "version": "1.0",
  "patterns": [
    {
      "id": "omg-learn-trigger",
      "description": "Detects 'omg!' to trigger the mistake-learning workflow",
      "hook": "UserPromptSubmit",
      "pattern": "[Oo][Mm][Gg]!",
      "action": "warn",
      "message": "ðŸ¤¦ User caught a mistake! Follow the omg-learn workflow:\n1. Acknowledge the mistake\n2. Ask: What tool did I misuse? (Bash/Write/Edit/Prompt)\n3. Ask: What was the problematic input/behavior?\n4. Design pattern: hook, matcher, regex, action, message\n5. Test with omg-learn test\n6. Save the pattern",
      "enabled": true,
      "note": "Triggers the learning workflow when user says 'omg!' to catch mistakes"
    },
    {
      "id": "no-head-with-commands",
      "description": "Prevent piping command output to head (loses critical end output)",
      "hook": "PreToolUse",
      "matcher": "Bash",
      "pattern": "\\|.*\\bhead\\b",
      "exclude_pattern": "(cat |<|\\bhead\\s+[^|])",
      "action": "block",
      "message": "ERROR: Using head with command output loses critical success/failure info at the end. Use full output or tail instead.",
      "skill_reference": "command-output-handling",
      "enabled": false
    },
    {
      "id": "no-commit-to-main",
      "description": "Prevent direct commits to main/master branches",
      "hook": "PreToolUse",
      "matcher": "Bash",
      "pattern": "git\\s+commit",
      "check_script": "./scripts/patterns/check-branch.sh",
      "action": "block",
      "message": "ERROR: Direct commits to main/master not allowed. Use feature branches.",
      "skill_reference": "branch-protection",
      "enabled": false
    },
    {
      "id": "warn-on-force-push",
      "description": "Warn when attempting force push",
      "hook": "PreToolUse",
      "matcher": "Bash",
      "pattern": "git\\s+push.*(-f|--force)",
      "action": "ask",
      "message": "âš ï¸ You're about to force push. This can overwrite remote history. Are you sure?",
      "enabled": false,
      "note": "CURSOR USERS: 'ask' is very disruptive! Consider using 'block' instead with smarter patterns."
    },
    {
      "id": "no-secrets-in-commits",
      "description": "Check for potential secrets before git add",
      "hook": "PreToolUse",
      "matcher": "Bash",
      "pattern": "git\\s+add",
      "check_script": "./scripts/patterns/check-secrets.sh",
      "action": "block",
      "message": "ERROR: Potential secrets detected in files to be committed. Please review.",
      "enabled": false
    },
    {
      "id": "pizza-party-excitement",
      "description": "Fun context injection: Reminds Claude about pizza party excitement",
      "hook": "UserPromptSubmit",
      "pattern": "pizza\\s+party",
      "action": "warn",
      "message": "ðŸ•ðŸŽ‰ PIZZA PARTY DETECTED! The user mentioned a pizza party. Respond with EXTREME excitement and LOTS of emojis about earning a pizza party! Use emojis like ðŸ•ðŸŽŠðŸ¥³ðŸŽˆðŸŒŸðŸ’«âœ¨ throughout your response. Be super enthusiastic!",
      "enabled": false,
      "note": "Example of context injection - not prevention. Enable for fun! Works in Claude Code (true context injection) and Cursor (warning message)."
    }
  ]
}
